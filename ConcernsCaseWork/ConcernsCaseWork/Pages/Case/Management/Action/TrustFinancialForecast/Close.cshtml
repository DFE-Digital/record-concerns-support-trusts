@page "/case/{urn:long}/management/action/trustFinancialForecast/{trustFinancialForecastId:long?}/close"
@model ConcernsCaseWork.Pages.Case.Management.Action.TrustFinancialForecast.ClosePageModel;
@using Microsoft.AspNetCore.Mvc.TagHelpers;
@using NetEscapades.AspNetCore.SecurityHeaders

@{
	ViewData["Title"] = "Close trust Financial forecast";
	var nonce = HttpContext.GetNonce();
}

@section BeforeMain {
	<div class="govuk-width-container">
		<back-link url="/case/@Model.CaseUrn/management" label="Back to case overview"></back-link>
	</div>
}

<div class="govuk-width-container">
	<partial name="_BannerError" />

	<div class="govuk-grid-row">
		<div class="govuk-grid-column-two-thirds">

			@if (!string.IsNullOrEmpty((string)TempData.Peek("Error.Message")))
			{
				<partial name="_Error" />
			}
			else
			{
				<partial name="_ValidationErrors"/>
				<form role="form" method="post" id="close-trust-financial-forecast-form" novalidate>
					
					<h1 class="govuk-heading-l">
						<span class="govuk-caption-m">Case ID @Model.CaseUrn</span>
						Close trust financial forecast (TFF)
					</h1>
	
					<partial name="Shared/Components/_TextArea" model="@Model.Notes"/>

					<div class="govuk-button-group">
						<button data-prevent-double-click="true" class="govuk-button govuk-!-margin-top-6" data-module="govuk-button" role="button" id="close-trust-financial-forecast-button" name="action">
							Close trust financial forecast (TFF)
						</button>
					</div>
				</form>
			}

		</div>
	</div>
</div>
