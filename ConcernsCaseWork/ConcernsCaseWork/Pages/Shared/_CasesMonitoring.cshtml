@using Microsoft.AspNetCore.Mvc.TagHelpers
@model IList<ConcernsCaseWork.Models.HomeModel>

<table class="govuk-table  govuk-!-margin-top-9" data-module="moj-sortable-table">
	<caption class="govuk-table__caption govuk-table__caption--m">
		<div class="govuk-button-group flexalign__right">
			<a class="govuk-button govuk-button--secondary" asp-page="/case/closed">
				All Closed cases
			</a>
		</div>
		Closed for monitoring
	</caption>

	<thead class="govuk-table__head">
	<tr class="govuk-table__row tr__large">
		<th class="govuk-table__header govuk-table__cell__cases" scope="col">
			Case ID
		</th>
		<th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_15" scope="col" aria-sort="ascending">
			Trust/Academy
		</th>
		<th class="govuk-table__header govuk-table__cell__cases" scope="col">
			Concerns
		</th>
		<th class="govuk-table__header govuk-table__cell__cases" scope="col" aria-sort="none">
			Review date
		</th>
	</tr>
	</thead>

	<tbody class="govuk-table__body">
	@if (Model.Count == 0)
	{
		<tr class="govuk-table__row tr__large">
			<td class="govuk-table__cell__cases govuk-oneline-row">
				<span>There are no cases available.</span>
			</td>
		</tr>
	}
	else
	{
		foreach (var homeModel in Model)
		{
			<tr class="govuk-table__row tr__large">
				<td class="govuk-table__cell">
					<a class="govuk-link" href="case/@homeModel.CaseUrn/management">@homeModel.CaseUrn</a>
				</td>
				<td class="govuk-table__cell">
					@homeModel.TrustNameTitle
				</td>
				<td class="govuk-table__cell">
					@foreach (var record in homeModel.RecordsModel)
					{
						<div class="govuk-!-padding-bottom-1">
							@record.TypeModel.TypeDisplay
						</div>
					}
				</td>
				<td class="govuk-table__cell">
					@homeModel.Review
				</td>
			</tr>
		}
	}
	</tbody>
</table>
